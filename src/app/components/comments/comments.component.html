<div class="flex flex-col gap-2">
  <h4>{{ getTitle(comments) }}</h4>
  <div *ngIf="comments.length > 0" class="flex flex-col gap-2">
    <div
      class="flex flex-col"
      *ngFor="let comment of comments; trackBy: trackComments"
    >
      <div class="flex flex-col rounded-lg bg-slate-200 p-2">
        <span class="font-bold">{{ comment.username }}</span>
        <span>{{ comment.text }}</span>
      </div>

      <small class="ml-2">
        <span class="date">
          {{ comment.timestamp | date : 'longDate' }} at
          {{ comment.timestamp | date : 'shortTime' }}
        </span>
      </small>
    </div>
  </div>
  <mat-form-field>
    <textarea
      #commentInput
      matInput
      cdkTextareaAutosize
      cdkAutosizeMinRows="1"
      cdkAutosizeMaxRows="5"
      placeholder="Add a comment"
      (keydown.enter)="onAddComment(commentInput.value.trim()); (false)"
      [formControl]="comment"
    ></textarea>
  </mat-form-field>
</div>
